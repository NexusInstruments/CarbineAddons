<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<Forms>
    <Form Class="Window" LAnchorPoint="0.5" LAnchorOffset="-150" TAnchorPoint="0.5" TAnchorOffset="-318" RAnchorPoint="0.5" RAnchorOffset="150" BAnchorPoint="0.5" BAnchorOffset="-190" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="PopupPath" Border="0" Picture="1" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="1" IgnoreMouse="1" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" TransitionShowHide="0" Tooltip="">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="66" TAnchorPoint="0.5" TAnchorOffset="-28" RAnchorPoint="1" RAnchorOffset="-2" BAnchorPoint="0.5" BAnchorOffset="28" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGAnim" BGColor="9dffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Anim_WaveRunner:CRB_Anim_WaveRunnerStretch" Picture="1" IgnoreMouse="1" NewControlDepth="1" Tooltip="" HideInEditor="1" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="64" TAnchorPoint="0.5" TAnchorOffset="-30" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="0.5" BAnchorOffset="30" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BG" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Basekit:kitBase_HoloBlue_InsetSimple" Picture="1" IgnoreMouse="1" NewControlDepth="2" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0" RAnchorOffset="128" BAnchorPoint="0" BAnchorOffset="128" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="PathIcon" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_PlayerPathSprites:spr_Path_Scientist_Stretch" Picture="1" IgnoreMouse="1" NewControlDepth="1" UseParentOpacity="0"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="100" TAnchorPoint="0.5" TAnchorOffset="-26" RAnchorPoint="1" RAnchorOffset="-4" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="CRB_Interface16_B" Text="" Template="Default" TooltipType="OnCursor" Name="PathTopText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="FloatText_MissionUnlocked" UseParentOpacity="1" IgnoreMouse="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="100" TAnchorPoint="0.5" TAnchorOffset="0" RAnchorPoint="1" RAnchorOffset="-4" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="CRB_Interface12_B" Text="" Template="Default" TooltipType="OnCursor" Name="PathBottomText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="Challenges_NoProgress" UseParentOpacity="1" IgnoreMouse="1"/>
    </Form>
    <Form Class="Window" LAnchorPoint="0.5" LAnchorOffset="-35" TAnchorPoint="0.5" TAnchorOffset="-318" RAnchorPoint="0.5" RAnchorOffset="35" BAnchorPoint="0.5" BAnchorOffset="-168" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="PopupPathCenter" Border="0" Picture="1" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="1" IgnoreMouse="1" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" TransitionShowHide="0" Tooltip="">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="2" TAnchorPoint="1" TAnchorOffset="-58" RAnchorPoint="1" RAnchorOffset="-2" BAnchorPoint="1" BAnchorOffset="-2" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGAnim" BGColor="9dffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Anim_WaveRunner:CRB_Anim_WaveRunnerStretch" Picture="1" IgnoreMouse="1" NewControlDepth="1" Tooltip="" HideInEditor="1" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-60" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BG" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Basekit:kitBase_HoloBlue_InsetSimple" Picture="1" IgnoreMouse="1" NewControlDepth="2" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-64" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="64" BAnchorPoint="0" BAnchorOffset="128" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="Icon" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_PlayerPathSprites:spr_Path_Scientist_Stretch" Picture="1" IgnoreMouse="1" NewControlDepth="1" UseParentOpacity="0" TransitionShowHide="1" Visible="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-55" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="-25" RelativeToClient="1" Font="CRB_HeaderHuge" Text="" Template="Default" TooltipType="OnCursor" Name="TopText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="FloatText_MissionUnlocked" UseParentOpacity="1" IgnoreMouse="1" DT_CENTER="1" DT_VCENTER="1" Tooltip="" AutoScaleTextOff="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-29" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="CRB_Interface12_B" Text="" Template="Default" TooltipType="OnCursor" Name="BottomText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="Challenges_NoProgress" UseParentOpacity="1" IgnoreMouse="1" DT_CENTER="1" AutoScaleTextOff="1"/>
    </Form>
    <Form Class="Window" LAnchorPoint="0.5" LAnchorOffset="-35" TAnchorPoint="0.5" TAnchorOffset="-318" RAnchorPoint="0.5" RAnchorOffset="35" BAnchorPoint="0.5" BAnchorOffset="-213" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="PopupEpisodeCenter" Border="0" Picture="1" SwallowMouseClicks="1" Moveable="0" Escapable="0" Overlapped="1" IgnoreMouse="1" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" TransitionShowHide="0" Tooltip="">
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="2" TAnchorPoint="1" TAnchorOffset="-68" RAnchorPoint="1" RAnchorOffset="-2" BAnchorPoint="1" BAnchorOffset="-2" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BGAnim" BGColor="9dffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Anim_WaveRunner:CRB_Anim_WaveRunnerStretch" Picture="1" IgnoreMouse="1" NewControlDepth="1" Tooltip="" HideInEditor="1" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-70" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="BG" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="CRB_Basekit:kitBase_HoloBlue_InsetSimple" Picture="1" IgnoreMouse="1" NewControlDepth="2" UseParentOpacity="1"/>
        <Control Class="Window" LAnchorPoint="0.5" LAnchorOffset="-32" TAnchorPoint="0" TAnchorOffset="0" RAnchorPoint="0.5" RAnchorOffset="32" BAnchorPoint="0" BAnchorOffset="64" RelativeToClient="1" Font="Default" Text="" Template="Default" TooltipType="OnCursor" Name="Icon" BGColor="ffffffff" TextColor="ffffffff" TooltipColor="" Sprite="IconSprites:Icon_MapNode_Map_Quest" Picture="1" IgnoreMouse="1" NewControlDepth="1" UseParentOpacity="0" TransitionShowHide="1" Visible="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-55" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="-25" RelativeToClient="1" Font="CRB_HeaderHuge" Text="" Template="Default" TooltipType="OnCursor" Name="TopText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="Challenges_NoProgress" UseParentOpacity="1" IgnoreMouse="1" DT_CENTER="1" DT_VCENTER="1" AutoScaleTextOff="1"/>
        <Control Class="Window" LAnchorPoint="0" LAnchorOffset="0" TAnchorPoint="1" TAnchorOffset="-29" RAnchorPoint="1" RAnchorOffset="0" BAnchorPoint="1" BAnchorOffset="0" RelativeToClient="1" Font="CRB_Interface12_B" Text="" Template="Default" TooltipType="OnCursor" Name="BottomText" BGColor="ffffffff" TextColor="UI_TextHoloTitle" TooltipColor="" TextId="Challenges_NoProgress" UseParentOpacity="1" IgnoreMouse="1" DT_CENTER="1" AutoScaleTextOff="1"/>
    </Form>
</Forms>
t ~= nil and strText ~= "" and strTextSubject ~= nil and strTextSubject ~= ""
	self.tWindowMap["OkBtn"]:Enable(bEnable)
	if bEnable then
		self.tWindowMap["OkBtn"]:SetActionData(GameLib.CodeEnumConfirmButtonType.SubmitSupportTicket, nCategory, nSubCategory, strTextSubject, strText)
	end

	if self.bIsBug ~= not self.tWindowMap["OkBtn"]:IsShown() then
		self.tWindowMap["OkBtn"]:Show(not self.bIsBug)
	end

	if self.bIsBug ~= self.tWindowMap["ConvertToBugBtn"]:IsShown() then
		self.tWindowMap["ConvertToBugBtn"]:Show(self.bIsBug)
	end
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnSupportTicketSubmitted(wndHandler, wndControl, eMouseButton)
	if self.bAddIgnore and self.strTarget then
		FriendshipLib.AddByName(FriendshipLib.CharacterFriendshipType_Ignore, self.strTarget) 
		Event_FireGenericEvent("GenericEvent_SystemChannelMessage", String_GetWeaselString(Apollo.GetString("Social_AddedToIgnore"), self.strTarget))
		self.bAddIgnore = nil
		self.strTarget = nil
	end
	
	self:UpdateSubmitButton()
	self:ClearTextEntries()
	self.tWindowMap["Main"]:Close()
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:ClearTextEntries()
	self.tWindowMap["PlayerTicketTextEntry"]:SetText("")
	self.tWindowMap["PlayerTicketTextEntrySubject"]:SetText("")
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnConvertToBugBtn(wndHandler, wndControl, eMouseButton)
	if self.bIsBug then
		local strText = self.tWindowMap["PlayerTicketTextEntry"]:GetText()
		local strText = self.tWindowMap["PlayerTicketTextEntrySubject"]:GetText()
		Event_FireGenericEvent("TicketToBugDialog", strText, strTextSubject)
		self.bIsBug = false
	end

	self:UpdateSubmitButton()
	self:ClearTextEntries()
	self.tWindowMap["Main"]:Close()
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnCancelBtn(wndHandler, wndControl, eMouseButton)
	if wndHandler:GetId() ~= wndControl:GetId() then
		return
	end
	self:ClearTextEntries()
	self.tWindowMap["Main"]:Show(false)
end

---------------------------------------------------------------------------------------------------
function PlayerTicketDialog:OnTextChanged()
	self:UpdateSubmitButton()
end

---------------------------------------------------------------------------------------------------
-- PlayerTicketDialog instance
---------------------------------------------------------------------------------------------------
local PlayerTicketDialogInst = PlayerTicketDialog:new()
PlayerTicketDialogInst:Init()
"38¾  ¾òû XpKX˜416" Stretchy="1" HotspotX="0" HotspotY="0" Duration="1.000" StartColor="ffffffff" EndColor="ffffffff"/>
    </Sprite>
    <Sprite Name="spr_BreakoutStun_ClockOrange" Cycle="1">
        <Frame Texture="UI\Assets\Textures\UI_CRB_HUD_Breakout.tga" x0="282" x1="282" x2="282" x3="282" x4="282" x5="315" y0="383" y1="383" y2="383" y3="383" y4="383" y5="416" Stretchy="1" HotspotX="0" HotspotY="0" Duration="1.000" StartColor="ffffffff" EndColor="ffffffff"/>
    </Sprite>
    <AutoButton Name="btn_BreakoutStun_Right" Texture="UI\Assets\Textures\UI_CRB_HUD_Breakout.tga" x0="247" x1="247" x2="247" x3="247" x4="247" x5="292" y0="247" y1="247" y2="247" y3="247" y4="247" y5="292" Stretchy="1" StateBits="19" Direction="Down"/>
    <AutoButton Name="btn_BreakoutStun_Left" Texture="UI\Assets\Textures\UI_CRB_HUD_Breakout.tga" x0="292" x1="292" x2="292" x3="292" x4